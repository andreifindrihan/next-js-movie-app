{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/andreifindrihan/FrontEnd/Next-JS-App/pages/movies.js\";\nimport React from \"react\";\nimport fetch from 'isomorphic-unfetch';\nimport Layout from \"../components/Layout\";\nimport Movie from '../components/Movie';\nimport { API_KEY } from '../API_KEY';\nimport '../sass/styles.scss';\nimport Page from '../components/Page';\nimport { connect } from 'react-redux';\nimport store from '../store/store';\n\nvar Movies =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Movies, _React$Component);\n\n  function Movies() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Movies);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Movies)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      dispatch({\n        type: \"ADD_MOVIES\",\n        payload: [1, 2, 3, 4]\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Movies, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"main-header text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, \"Movie list!\"));\n    }\n  }]);\n\n  return Movies;\n}(React.Component);\n\n_defineProperty(Movies, \"getInitialProps\",\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var store, res, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            store = _ref.store;\n            _context.next = 3;\n            return fetch(\"https://api.themoviedb.org/3/movie/popular?api_key=\".concat(API_KEY, \"&language=en-US&page=1\"));\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            data = _context.sent;\n            store.dispatch({\n              type: \"ADD_MOVIES\",\n              payload: data.results\n            });\n            return _context.abrupt(\"return\", {\n              movieInfo: data.results\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\nexport default Page(connect(function (state) {\n  return state;\n})(Movies));","map":{"version":3,"sources":["/Users/andreifindrihan/FrontEnd/Next-JS-App/pages/movies.js"],"names":["fetch","Layout","Movie","API_KEY","Page","connect","store","Movies","dispatch","type","payload","console","log","props","React","Component","res","json","data","results","movieInfo","state"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,OAAO,qBAAP;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;IAEMC,M;;;;;;;;;;;;;;;;;;wEACkB,YAAM;AACtBC,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE,YAAR;AAAsBC,QAAAA,OAAO,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV;AAA/B,OAAD,CAAR;AACH,K;;;;;;;6BASQ;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,aACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,CADJ;AAUH;;;;EAxBgBC,KAAK,CAACC,S;;gBAArBR,M;;;;;2BAIuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASD,YAAAA,KAAT,QAASA,KAAT;AAAA;AAAA,mBACHN,KAAK,8DAAuDG,OAAvD,4BADF;;AAAA;AACfa,YAAAA,GADe;AAAA;AAAA,mBAEFA,GAAG,CAACC,IAAJ,EAFE;;AAAA;AAEfC,YAAAA,IAFe;AAGrBZ,YAAAA,KAAK,CAACE,QAAN,CAAe;AAAEC,cAAAA,IAAI,EAAE,YAAR;AAAsBC,cAAAA,OAAO,EAAEQ,IAAI,CAACC;AAApC,aAAf;AAHqB,6CAId;AACHC,cAAAA,SAAS,EAAEF,IAAI,CAACC;AADb,aAJc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;;;;AAuB7B,eAAef,IAAI,CAACC,OAAO,CAAC,UAAAgB,KAAK;AAAA,SAAIA,KAAJ;AAAA,CAAN,CAAP,CAAwBd,MAAxB,CAAD,CAAnB","sourcesContent":["import fetch from 'isomorphic-unfetch';\nimport Layout from \"../components/Layout\";\nimport Movie from '../components/Movie';\nimport { API_KEY } from '../API_KEY';\nimport '../sass/styles.scss';\nimport Page from '../components/Page';\nimport { connect } from 'react-redux';\nimport store from '../store/store';\n\nclass Movies extends React.Component {\n    componentDidMount = () => {\n        dispatch({ type: \"ADD_MOVIES\", payload: [1, 2, 3, 4] })\n    }\n    static getInitialProps = async ({ store }) => {\n        const res = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`);\n        const data = await res.json();\n        store.dispatch({ type: \"ADD_MOVIES\", payload: data.results })\n        return {\n            movieInfo: data.results\n        }\n    }\n    render() {\n        console.log(this.props)\n        return (\n            <Layout>\n                <h1 className=\"main-header text-center\">Movie list!</h1>\n                {/* <div className=\"grid\">\n                    {this.props.movieInfo.map(movie => (\n                        <Movie key={movie.id} movieInfo={movie} />\n                    ))}\n                </div> */}\n            </Layout>\n        )\n    }\n}\n\nexport default Page(connect(state => state)(Movies));"]},"metadata":{},"sourceType":"module"}